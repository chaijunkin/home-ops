---
public-endpoint: &public-defaults
  group: Public
  interval: 1m
  client:
    timeout: 30s
  conditions: ["[STATUS] < 300", "[CERTIFICATE_EXPIRATION] > 48h"]
  alerts:
    - type: pushover
    - type: discord
endpoints:
  - name: authentik
    url: https://auth.cloudjur.com
    <<: *public-defaults
  - name: calibre-web-automated
    url: https://books.cloudjur.com
    <<: *public-defaults
  - name: grafana
    url: https://grafana.cloudjur.com
    <<: *public-defaults
  - name: home-assistant
    url: https://hass.cloudjur.com
    <<: *public-defaults
  - name: jellyfin
    url: https://jellyfin.cloudjur.com
    <<: *public-defaults
  - name: jellyseerr
    url: https://requests.cloudjur.com
    <<: *public-defaults
  # - name: kavita
  #   url: https://comics.cloudjur.com
  #   <<: *public-defaults
  - name: opencloud
    url: https://drive.cloudjur.com
    <<: *public-defaults
  - name: open-webui
    url: https://chat.cloudjur.com
    <<: *public-defaults
  - name: plex
    url: https://plex.cloudjur.com/web/index.html
    <<: *public-defaults
  - name: echo-server-ext
    url: https://echo-server-ext.cloudjur.com
    <<: *public-defaults
  # - name: echo-server-ext-auth
  #   url: https://echo-server-ext-auth.cloudjur.com
  #   <<: *public-defaults
  - name: gatus
    url: https://gatus.cloudjur.com
    <<: *public-defaults
  # - name: komga
  #   url: https://komga.cloudjur.com
  #   <<: *public-defaults
  - name: flux-webhook
    url: https://flux-webhook.cloudjur.com
    interval: 1m
    group: Public
    client:
      dns-resolver: tcp://1.1.1.1:53
    conditions:
      - "[STATUS] == 404"
    alerts:
      - type: pushover
      - type: discord
  - name: external
    group: Public
    url: 1.1.1.1
    interval: 1m
    dns:
      query-name: "external.cloudjur.com"
      query-type: A
    conditions:
      - "len([BODY]) > 0"
    alerts:
      - type: pushover
      - type: discord
  # - name: kromgo
  #   url: https://kromgo.cloudjur.com
  #   interval: 1m
  #   group: Public
  #   client:
  #     dns-resolver: tcp://1.1.1.1:53
  #   conditions:
  #     - "[STATUS] == ${GATUS_STATUS:=200}"
